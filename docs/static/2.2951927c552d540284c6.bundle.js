(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1456:function(t,e,n){"use strict";var i=a(n(44)),o=a(n(15)),r=a(n(31)),s=a(n(84));function a(t){return t&&t.__esModule?t:{default:t}}function u(){document.addEventListener("o.DOMContentLoaded",c)}u.prototype.config=n(1458),u.prototype.slots=n(1464),u.prototype.gpt=n(1466),u.prototype.krux=n(1467),u.prototype.api=n(1468),u.prototype.targeting=n(1459),u.prototype.utils=n(1457),u.prototype.init=function(t){var e=this;this.config.init(),this.config(t);var n=this.config().targetingApi,i=this.config().validateAdsTrafficApi;if(!n&&!i)return s.default.resolve(this.initLibrary());var a=n?this.api.init(n,this):s.default.resolve(),u=i?fetch(i).then(function(t){return t.json()}):s.default.resolve();return s.default.all([u,a]).then(function(t){var n=(0,r.default)(t,2),i=n[0],s=n[1];(function(t){return t&&t.isRobot})(i)&&e.config({dfp_targeting:{ivtmvt:"1"}});var a=function(t){try{return t[0].consent.behavioural}catch(t){return!0}}(s);return!a&&localStorage.getItem("kxkuid")&&(0,o.default)(localStorage).filter(function(t){return/(^kx)|(^_kx)/.test(t)}).forEach(function(t){return localStorage.removeItem(t)}),e.initLibrary({enableKrux:a})}).catch(function(){return e.initLibrary()})},u.prototype.updateContext=function(t,e){var n=this;return this.config(t),t.targetingApi?(this.api.reset(),this.api.init(t.targetingApi,this).then(function(){n.gpt.updatePageTargeting(n.targeting.get()),n.config("krux")&&(n.krux.setAllAttributes(),n.krux.sendNewPixel(e))})):s.default.resolve()},u.prototype.initLibrary=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{enableKrux:!0};return this.slots.init(),this.gpt.init(),t.enableKrux&&this.krux.init(),this.utils.on("debug",this.debug.bind(this)),this.isInitialised=!0,this.utils.broadcast("initialised",this),document.removeEventListener("o.DOMContentLoaded",c),this};var c=function(){return l.init().then(function(){(0,i.default)(document.querySelectorAll(".o-ads, [data-o-ads-name]")).forEach(l.slots.initSlot.bind(l.slots))})};u.prototype.debug=function(){var t=!0;localStorage.getItem("oAds")?t=!1:localStorage.setItem("oAds",!0),this.gpt.debug(),this.krux.debug(),this.slots.debug(),this.targeting.debug(),t&&localStorage.removeItem("oAds")};var l=new u;t.exports=l},1457:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(11));var o=Object.prototype.hasOwnProperty,r=t.exports;function s(t){return function(e){return function(t){var e=Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1];return null===t?"Null":void 0===t?"Undefined":e}(e)===t}}function a(){var t,e,n,o,s=arguments[0]||{},u=arguments.length,c=!1,l=1;if("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"===(void 0===s?"undefined":(0,i.default)(s))||r.isFunction(s)||(s={}),u===l)return s;for(;l<u;l++)if(null!==(t=arguments[l]))for(var d in t)if(t.hasOwnProperty(d)){if(e=s[d],s===(n=t[d]))continue;c&&n&&(r.isPlainObject(n)||r.isArray(n))?(r.isArray(n)?(!1,o=e&&r.isArray(e)?e:[]):o=e&&r.isObject(e)?e:{},s[d]=a(c,o,n)):void 0!==n&&(s[d]=n)}return s}t.exports.isWindow=function(t){return t&&null!==t&&t===window},t.exports.isPlainObject=function(t){var e=Object.prototype.hasOwnProperty;if(!t||!r.isObject(t)||t.nodeType||r.isWindow(t))return!1;try{if(t.constructor&&!e.call(t,"constructor")&&!e.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}for(var n in t);return void 0==n||e.call(t,n)},t.exports.isNonEmptyString=function(t){return r.isString(t)&&!!t.length},t.exports.isElement=function(t){return t&&1===t.nodeType&&t.tagName||!1},t.exports.extend=a,t.exports.hash=function(t,e,n){var i,o={};if(t&&t.split)for(var r=0,s=(t=t.split(e)).length;r<s;r+=1)1<(i=t[r].split(n)).length&&(o[i[0].trim()]=i.slice(1).join(n));return o},t.exports.attach=function(t,e,n,i,s){function a(t){l||(t.call(),l=!0,s&&u.parentElement.removeChild(u))}var u=document.createElement("script"),c=document.getElementsByTagName("script")[0],l=!1;return u.setAttribute("src",t),u.setAttribute("o-ads",""),e&&(u.async="true"),r.isFunction(n)&&(o.call(u,"onreadystatechange")?u.onreadystatechange=function(){"loaded"===u.readyState&&a(n)}:u.onload=function(){a(n)}),r.isFunction(i)&&(u.onerror=function(){a(i)}),c.parentNode.insertBefore(u,c),u},t.exports.getReferrer=function(){return document.referrer||""},t.exports.dehyphenise=function(t){return t.replace(/(-)([a-z])/g,function(t,e,n){return n.toUpperCase()})},t.exports.parseAttributeName=function(t){var e=r.isString(t)?t:t.name;return r.dehyphenise(e.replace(/(data-)?o-ads-/,""))},t.exports.getLocation=function(){return document.location.href||""},t.exports.getQueryString=function(){return document.location.search.substring(1)||""},t.exports.getQueryParamByName=function(t,e){e=e||window.location.href,t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},t.exports.getTimestamp=function(){var t=new Date;return[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2),("0"+t.getHours()).slice(-2),("0"+t.getMinutes()).slice(-2),("0"+t.getSeconds()).slice(-2)].join("")};var u=document.getElementsByTagName("iframe");t.exports.iframeToSlotName=function(t){for(var e,n,i=u.length;i--;)if(u[i].contentWindow===t){n=u[i];break}if(n)for(;n.parentNode;){if(e=n.getAttribute("data-o-ads-name"))return e;n=n.parentNode}return!1},t.exports.buildObjectFromArray=function(t){return t.reduce(function(t,e){return t[e.key]=e.value,t},{})},t.exports.cookie=function(t){var e=document.cookie.match("(^|;)\\s*"+t+"\\s*=\\s*([^;]+)");return e?e.pop():null},a(t.exports,n(1460)),a(t.exports,n(1461)),t.exports.responsive=n(1462),t.exports.log=n(1463),function(t,e){for(e=e||["Array","Object","String","Function","Storage"];e.length;){var n=e.pop();t["is"+n]=s(n)}}(t.exports)},1458:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(44));var o=n(1457),r={formats:{MediumRectangle:{sizes:[300,250]},Rectangle:{sizes:[180,50]},WideSkyscraper:{sizes:[160,600]},Leaderboard:{sizes:[728,90]},SuperLeaderboard:{sizes:[[970,90],[970,66]]},HalfPage:{sizes:[300,600]},Billboard:{sizes:[970,250]},Portrait:{sizes:[300,1050]},AdhesionBanner:{sizes:[320,50]},MicroBar:{sizes:[88,31]},Button2:{sizes:[120,60]},Responsive:{sizes:[2,2]}},responsive:{extra:[1025,0],large:[1e3,0],medium:[760,0],small:[0,0]},flags:{refresh:!0,inview:!0}};function s(){this.store={}}s.prototype.access=function(t,e){var n;return o.isPlainObject(t)?(o.extend(!0,this.store,t),n=this.store):void 0===e?n=void 0===t?this.store:this.store[t]:(this.store[t]=e,n=e),n},s.prototype.clear=function(t){t?delete this.store[t]:this.store={}},s.prototype.init=function(){return this.store=o.extend(!0,{},r,function(){var t,e=document.querySelector('link[rel="canonical"]');return e&&(t=e.href),{canonical:t}}(),function(){var t={};return(0,i.default)(document.querySelectorAll("script[data-o-ads-config]")).forEach(function(e){t=window.JSON?o.extend(t,JSON.parse(e.innerHTML)):"UNSUPPORTED"}),t}()),this.store};var a=new s;t.exports=a.access.bind(a),t.exports.init=a.init.bind(a),t.exports.clear=a.clear.bind(a)},1459:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(15));var o=n(1458),r=n(1457),s={};function a(){}a.prototype.get=function(){var t={socialReferrer:this.getSocialReferrer,timestamp:this.timestamp,responsive:this.responsive};for(var e in r.extend(s,this.getFromConfig(),this.searchTerm(),this.socialFlow()),t)t.hasOwnProperty(e)&&r.extend(s,t[e]());return s},a.prototype.add=function(t){r.isPlainObject(t)&&r.extend(s,t)},a.prototype.remove=function(t){s[t]&&delete s[t]},a.prototype.clear=function(){s={}},a.prototype.getFromConfig=function(){var t=o("dfp_targeting")||{};return!r.isPlainObject(t)&&r.isString(t)&&(t=r.hash(t,";","=")),t},a.prototype.socialFlow=function(){var t=r.getQueryParamByName("socialflow");if(t)return{socialflow:t}},a.prototype.getSocialReferrer=function(){var t,e=r.getReferrer(),n={"t.co":"twi","facebook.com":"fac","linkedin.com":"lin","drudgereport.com":"dru","dianomi.com":"dia",google:"goo"};return(0,i.default)(n).forEach(function(i){new RegExp("^http(|s)://(www.)*("+i+")").test(e)&&(t=n[i])}),t&&{socref:t}||{}},a.prototype.searchTerm=function(){var t=r.hash(r.getQueryString(),/\&|\;/,"="),e=t.q||t.s||t.query||t.queryText||t.searchField||void 0;return e&&""!==e&&(e=unescape(e).toLowerCase().replace(/[';\^\+]/g," ").replace(/\s+/g," ").trim()),{kw:e}},a.prototype.timestamp=function(){return{ts:r.getTimestamp()}},a.prototype.responsive=function(){return o("responsive")?{res:r.responsive.getCurrent()}:{}},a.prototype.debug=function(){var t=r.log,e=this.get();0!==(0,i.default)(e).length&&(t.start("Targeting"),t.attributeTable(this.get()),t.end())},t.exports=new a},1460:function(t,e,n){"use strict";function i(t,e,n){t="oAds."+t,(n=n||document.body||document.documentElement).addEventListener(t,e)}t.exports.broadcast=function(t,e,n){n=n||document.body||document.documentElement,t="oAds."+t,n.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:e}))},t.exports.on=i,t.exports.off=function(t,e,n){t="oAds."+t,(n=n||document.body||document.documentElement).removeEventListener(t,e)},t.exports.once=function(t,e,n){i(t,function(n){(n.target||n.srcElement).removeEventListener(t="oAds."+t,e),e&&(e(n),e=null)},n)}},1461:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(26));t.exports.messenger={post:function(t,e){t="string"==typeof t?t:(0,i.default)(t),(arguments[1]||window.top).postMessage(t,"*")},parse:function(t){if("string"!=typeof t||"{"!==t[0])return t;try{return JSON.parse(t)}catch(e){return t}}}},1462:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(15));var o,r,s,a=n(1457),u=n(578);function c(){var t,e=u.getSize(!0);return(0,i.default)(r).forEach(function(n){var i=r[n];e.width>=i[0]&&e.height>=i[1]&&(!t||i[0]>=r[t][0])&&(t=n)}),t}function l(){var t=c();s!==t&&(d(t),o(t))}function d(t){s=t}function f(){return s}t.exports=function(t,e){return!!a.isFunction(e)&&(r=t,o=e,d(c()),document.body.addEventListener("oViewport.orientation",l),document.body.addEventListener("oViewport.resize",l),u.listenTo("orientation"),u.listenTo("resize"),f())},t.exports.getCurrent=f,t.exports.setThrottleInterval=u.setThrottleInterval},1463:function(t,e,n){"use strict";var i=r(n(26)),o=r(n(15));function r(t){return t&&t.__esModule?t:{default:t}}function s(){var t,e,n;-1==="log warn error info".indexOf(arguments[0])?(t="log",n=0):(t=arguments[0],n=1),e=[].slice.call(arguments,n),s.isOn(t)&&window.console[t].apply(window.console,e)}t.exports=s,t.exports.isOn=function(t){return(localStorage.getItem("oAds")||-1!==location.search.indexOf("DEBUG=OADS"))&&window.console&&window.console[t]},t.exports.warn=function(){var t=["warn"].concat([].slice.call(arguments,0));s.apply(null,t)},t.exports.error=function(){var t=["error"].concat([].slice.call(arguments,0));s.apply(null,t)},t.exports.info=function(){var t=["info"].concat([].slice.call(arguments,0));s.apply(null,t)},t.exports.start=function(t){s.isOn("groupCollapsed")&&window.console.groupCollapsed(t||"o-ads")},t.exports.end=function(){s.isOn("groupEnd")&&window.console.groupEnd()},t.exports.table=function(t,e){s.isOn("log")&&window.console&&(console.table?console.table(t,e):console.log(t))},t.exports.attributeTable=function(t,e){var r=n(1457);if(s.isOn("log")&&window.console)if(t&&console.table){var a=(0,o.default)(t).map(function(e){return{key:e,value:r.isArray(t[e])||r.isObject(t[e])?(0,i.default)(t[e]):t[e]}});console.table(a,e)}else console.log(t)}},1464:function(t,e,n){"use strict";var i=r(n(11)),o=r(n(15));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(1457),a=n(1458),u=n(1465),c=null;function l(){}function d(t,e,n){var i=[];return t=t||(0,o.default)(this),s.isNonEmptyString(t)?i.push(t):s.isArray(t)&&(i=t),i.forEach(function(t,e,n){var i=t[n];i?s.isFunction(i[e])?i[e]():s.isFunction(i.fire)?i.fire(e):s.log.warn("Attempted to %s on a non-slot %s",e,n):s.log.warn("Attempted to %s non-existant slot %s",e,n)}.bind(null,this,e)),s.isFunction(n)&&n.call(this,i),this}function f(t){if(!t)return!1;var e=a("formats");for(var n in e)if(e.hasOwnProperty(n)){var i=e[n].sizes;if((i=s.isArray(i[0])?i:[i]).filter(function(e){return e[0]===parseInt(t[0])&&e[1]===parseInt(t[1])}).length)return n}}l.prototype.collapse=function(t){return d.call(this,t,"collapse")},l.prototype.uncollapse=function(t){return d.call(this,t,"uncollapse")},l.prototype.refresh=function(t){return d.call(this,t,"refresh")},l.prototype.clear=function(t){return d.call(this,t,"clear")},l.prototype.destroy=function(t){return d.call(this,t,"destroy",function(t){var e=this;t.forEach(function(t){e[t]=null,delete e[t]})})},l.prototype.submitImpression=function(t){return d.call(this,t,"submitImpression")},l.prototype.initSlot=function(t){if(s.isString(t)&&((t=document.getElementById(t)||document.querySelector('[data-o-ads-name="'+t+'"]'))&&t.id&&(t.setAttribute("data-o-ads-name",t.id),t.removeAttribute("id"))),!s.isElement(t))return s.log.error("slot container must be an element!",t),!1;t.setAttribute("aria-hidden","true");var e=new u(t,c,this.initLazyLoading.bind(this));return e&&!this[e.name]?(this[e.name]=e,e.fire("ready")):this[e.name]&&s.log.error("slot %s is already defined!",e.name),e},l.prototype.initRefresh=function(){var t=this;if(a("flags").refresh&&a("refresh")){var e=a("refresh");if(this.refreshCount=0,e.time&&!e.inview){setInterval(function n(){!e.max||t.refreshCount++<e.max?t.refresh():t.refreshCount>=e.max&&clearInterval(n)},1e3*(parseFloat(e.time)||1))}}return this},l.prototype.initRendered=function(){return s.on("rendered",function(t,e){var n=t[e.detail.name];if(n){s.extend(n[n.server],e.detail[n.server]);var i=e.detail.gpt.size,o=f(i);n.setFormatLoaded(o),n.maximise(i),n.fire("complete",e.detail)}}.bind(null,this)),this},l.prototype.initResponsive=function(){var t=a("responsive");return s.isObject(t)&&(c=s.responsive(t,function(t,e){t.forEach(function(t){if(t){var n=t.container&&"Responsive"===t.container.getAttribute("data-o-ads-loaded"),i=t.sizes[e]&&0<t.sizes[e].filter(function(t){return"Responsive"===f(t)}).length;if(n&&i)return!1;t.screensize=e,t.fire("breakpoint",{screensize:e})}})}.bind(null,this))),this},l.prototype.initPostMessage=function(){window.addEventListener("message",function(t,e){var n=s.messenger.parse(e.data);if(n.type&&(/^oAds\./.test(n.type)||/^touch/.test(n.type))){var o=n.type.replace("oAds.",""),r=!!n.name&&t[n.name];if("whoami"===o&&e.source){document.body.dispatchEvent(new CustomEvent("oAds.adIframeLoaded"));var a={type:"oAds.youare"},u=s.iframeToSlotName(e.source.window);if(r=t[u]||!1){if(n.collapse&&r.collapse(),n.mastercompanion){var c=f(r.gpt.size);t.forEach(function(t){t.companion&&t.name!==r.name&&(t.fire("masterLoaded",r),t.container.setAttribute("data-o-ads-master-loaded",c))})}n.customMessages&&"object"===(0,i.default)(n.customMessages)&&r.fire("customMessages",n.customMessages),r.disableSwipeDefault&&(a.disableDefaultSwipeHandler=!0),a.name=u,a.sizes=r.sizes,s.messenger.post(a,e.source)}else s.log.error("Message received from unidentified slot"),s.messenger.post(a,e.source)}else{if(!r)return void s.log.error("Message received from unidentified slot");"responsive"===o?r.setResponsiveCreative(!0):s.isFunction(r[o])?r[o]():/^touch/.test(n.type)?r.fire("touch",n):(delete n.type,delete n.name,r.fire(o,n))}}}.bind(null,this),!1)},l.prototype.flushLazyLoading=function(){this.lazyLoadingObservers=this.lazyLoadingObservers.filter(function(t){return!(t.root&&!document.contains(t.root))})},l.prototype.initLazyLoading=function(t){var e=a("lazyLoad")||{}|t;this.lazyLoadingObservers=this.lazyLoadingObservers||[],this.flushLazyLoading();var n=this.lazyLoadingObservers.find(function(t){return e.root==t.root});if("IntersectionObserver"in window&&!n&&e){var o={};"object"===(void 0===e?"undefined":(0,i.default)(e))&&(e.viewportMargin&&(o.rootMargin=e.viewportMargin),e.threshold&&(o.threshold=e.threshold),o.root=e.root||null),n=new IntersectionObserver(function(t){var e=this;t.filter(function(t){return t.intersectionRect.height||t.intersectionRect.width||t.intersectionRect.top||t.intersectionRect.left}).sort(function(t,e){return t.intersectionRect.top-e.intersectionRect.top}).forEach(function(t){var n=t.target.getAttribute("data-o-ads-name");n&&d.call(e,n,"render")})}.bind(this),o),this.lazyLoadingObservers.push(n)}return n},l.prototype.forEach=function(t){var e=this;return(0,o.default)(this).forEach(function(n){var i=e[n];i instanceof u&&t.call(e,i)}),this},l.prototype.init=function(){this.initRefresh(),this.initRendered(),this.initResponsive(),this.initPostMessage(),this.initLazyLoading()},l.prototype.debug=function(){var t=s.log,e=[];this.forEach(function(t){var n={name:t.name,"unit name":t.gpt.unitName,"creative id":t.gpt.creativeId||"N/A","line item id":t.gpt.lineItemId||"N/A",size:s.isArray(t.gpt.size)&&t.gpt.size.join("×")||t.gpt.isEmpty&&"empty"||"N/A",sizes:s.isArray(t.sizes)&&t.sizes.map(function(t){return t.join("×")}).join(", ")||"responsive slot",targeting:(0,o.default)(t.targeting).map(function(e){return e+"="+t.targeting[e]}).join(", ")};e.push(n)}),t.start("Creatives"),t.table(e),t.end()},t.exports=new l},1465:function(t,e,n){"use strict";var i=r(n(44)),o=r(n(15));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(1457),a=n(1458),u=["fluid"],c={sizes:function(t,e){if(!1===t||"false"===t)return!1;if(s.isArray(e)){var n=/(\d+)x(\d+)/;t.split(",").filter(function(t){return t.length}).forEach(function(t){n.test(t)?t.replace(n,function(t,n,i){e.push([parseInt(n,10),parseInt(i,10)])}):0<=u.indexOf(t)&&e.push(t)})}return e},formats:function(t,e){if(!1===t||"false"===t)e=!1;else{var n=a().formats;(s.isArray(t)?t:t.split(",")).forEach(function(t){n&&n[t]?(t=n[t],s.isArray(t.sizes[0])||0<=u.indexOf(t.sizes[0])?t.sizes.forEach(function(t){e.push(t)}):e.push(t.sizes)):s.log.error("Slot configured with unknown format "+t)})}return e},responsiveSizes:function(t,e,n){var i=t.replace(/^sizes/,"").toLowerCase();return s.isPlainObject(n)||(n={}),n[i]=c.sizes(e,n[i]||[]),n},responsiveFormats:function(t,e,n){var i=t.replace(/^formats/,"").toLowerCase();return s.isPlainObject(n)||(n={}),n[i]=c.formats(e,[]),n},lazyLoadThreshold:function(t){return t.split(",").map(Number)},targeting:function(t,e){return t=s.hash(t,";","="),s.extend(e,t),e},base:function(t){return""===t||"true"===t?t=!0:"false"==t&&(t=!1),t}},l=function(t){!0===t.lazyLoad&&(t.lazyLoad={})},d=function(t){var e=t.detail.slot;e.screensize=t.detail.screensize,e.hasValidSize()?e.uncollapse():(e.collapse(),e.clear())};function f(t,e,n){var i=this,r=a("slots")||{},u=a("disableSwipeDefault")||!1;return this.container=t,e&&(this.screensize=e),this.outer=this.addContainer(t,{class:"o-ads__outer"}),this.inner=this.addContainer(this.outer,{class:"o-ads__inner"}),this.setName(),this.setResponsiveCreative(!1),r=r[this.name]||{},this.server="gpt",this.defer=!1,this.targeting=r.targeting||{},this.sizes=r.sizes||[],this.center=r.center||!1,this.label=r.label||!1,this.outOfPage=r.outOfPage||!1,this.disableSwipeDefault=r.disableSwipeDefault||u,this.companion=!1!==r.companion,this.collapseEmpty=r.collapseEmpty,s.isArray(r.formats)?c.formats(r.formats,this.sizes):s.isPlainObject(r.formats)&&(this.sizes={},(0,o.default)(r.formats).forEach(function(t){i.sizes[t]=c.formats(r.formats[t],[])})),this.lazyLoad=void 0===r.lazyLoad?a("lazyLoad")||!1:r.lazyLoad,this.parseAttributeConfig(),this.sizes.length||s.isPlainObject(this.sizes)?(this.lazyLoadObserver=n(this.lazyLoad),this.initLazyLoad(),this.centerContainer(),this.labelContainer(),void this.initResponsive()):(s.log.error("slot %s has no configured sizes!",this.name),!1)}f.prototype.parseAttributeConfig=function(){var t=this;(0,i.default)(this.container.attributes).forEach(function(e){var n=s.parseAttributeName(e.name),i=e.value;"formats"===n?t[n]=c[n](i,t.sizes):"lazyLoadThreshold"===n&&t.lazyLoad?(l(t),t.lazyLoad.threshold=c.lazyLoadThreshold(i)):"lazyLoadViewportMargin"===n&&t.lazyLoad?(l(t),t.lazyLoad.viewportMargin=c.base(i)):c[n]?t[n]=c[n](i,t[n]):/^formats\w*/.test(n)?t.sizes=c.responsiveFormats(n,i,t.sizes):/^sizes\w*/.test(n)?t.sizes=c.responsiveSizes(n,i,t.sizes):t.hasOwnProperty(n)&&(t[n]=c.base(i))})},f.prototype.getAttributes=function(){var t={};return(0,i.default)(this.container.attributes).forEach(function(e){t[s.parseAttributeName(e)]=e.value}),this.attributes=t,this},f.prototype.initLazyLoad=function(){var t=this;return this.lazyLoadObserver&&this.lazyLoad&&(this.defer=!0,this.lazyLoadObserver.observe(this.container),this.companion&&s.once("masterLoaded",function(){t.hasValidSize()&&t.render()},this.container)),this},f.prototype.render=function(){this.fire("render"),this.lazyLoadObserver&&this.lazyLoadObserver.unobserve(this.container)},f.prototype.initResponsive=function(){return s.isPlainObject(this.sizes)&&(!this.hasValidSize()&&this.collapse(),s.on("breakpoint",d,this.container)),this},f.prototype.maximise=function(t){t&&100==+t[0]&&100==+t[1]&&this.fire("resize",{size:["100%","100%"]})},f.prototype.setName=function(){return this.name=this.container.getAttribute("data-o-ads-name")||this.container.getAttribute("o-ads-name"),this.name||(this.name="o-ads-slot-"+Math.floor(1e4*Math.random()),this.container.setAttribute("data-o-ads-name",this.name)),this},f.prototype.setResponsiveCreative=function(t){return this.responsiveCreative=t,this},f.prototype.collapse=function(){return this.container.classList.add("o-ads--empty"),this.setFormatLoaded(!1),document.body.classList.add("o-ads-no-"+this.name),s.broadcast("collapsed",this),this},f.prototype.setFormatLoaded=function(t){return this.container.setAttribute("data-o-ads-loaded",t),this},f.prototype.uncollapse=function(){return this.container.classList.remove("o-ads--empty"),document.body.classList.remove("o-ads-no-"+this.name),this},f.prototype.clear=function(){return s.isFunction(this.clearSlot)&&this.clearSlot(),this},f.prototype.destroy=function(){return s.isFunction(this.destroySlot)&&(s.off("breakpoint",d,this.container),this.destroySlot(),this.container.removeChild(this.outer)),this},f.prototype.submitImpression=function(){return s.isFunction(this.submitGptImpression)&&this.submitGptImpression(),this},f.prototype.fire=function(t,e){var n={name:this.name,slot:this};return s.isPlainObject(e)&&s.extend(n,e),s.broadcast(t,n,this.container),this},f.prototype.addContainer=function(t,e){var n="<div ";return e&&(0,o.default)(e).forEach(function(t){var i=e[t];n+=t+"="+i+" "}),n+="></div>",t.insertAdjacentHTML("beforeend",n),t.lastChild},f.prototype.hasValidSize=function(t){return!((t=t||this.screensize)&&s.isPlainObject(this.sizes))||!1!==this.sizes[t]},f.prototype.centerContainer=function(){return this.center&&this.container.classList.add("o-ads--center"),this},f.prototype.labelContainer=function(){var t;return!0===this.label||"left"===this.label?t="label-left":"right"===this.label&&(t="label-right"),t&&this.container.classList.add("o-ads--"+t),this},t.exports=f},1466:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(15));var o=n(1458),r=n(1457),s=n(1459),a=!1;function u(t){return r.isPlainObject(t)?googletag.cmd.push(function(){var e=googletag.pubads();(0,i.default)(t).forEach(function(n){e.setTargeting(n,t[n])})}):r.log.warn("invalid targeting object passed",t),t}function c(t){var e=t.detail.slot;r.isFunction(e.display)&&e.display()}function l(t){return window.googletag.cmd.push(function(){var e=t.detail.targeting;r.isPlainObject(e)&&(0,i.default)(e).forEach(function(n){t.detail.slot.gpt.slot.setTargeting(n,e[n])}),googletag.pubads().refresh([t.detail.slot.gpt.slot])}),this}function d(t){var e=t.detail.slot.gpt.iframe,n=t.detail.size;e.width=n[0],e.height=n[1]}function f(t){var e={gpt:{}},n=t.slot.getSlotId(),i=n.getDomId().split("-"),o="google_ads_iframe_"+n.getId();e.type=i.pop(),e.name=i.join("-");var s=e.gpt;s.isEmpty=t.isEmpty,s.size=t.size,s.creativeId=t.creativeId,s.lineItemId=t.lineItemId,s.serviceName=t.serviceName,s.iframe=document.getElementById(o),s.iframe.setAttribute("tabindex","-1"),s.iframe.setAttribute("aria-hidden","true"),s.iframe.setAttribute("role","presentation"),s.iframe.setAttribute("title","Advertisement"),r.broadcast("rendered",e)}var p={defineSlot:function(){var t=this;return window.googletag.cmd.push(function(){t.gpt.id=t.name+"-gpt",t.inner.setAttribute("id",t.gpt.id),t.setUnitName(),t.outOfPage?t.gpt.slot=googletag.defineOutOfPageSlot(t.gpt.unitName,t.gpt.id):a&&r.isObject(t.sizes)?(t.initResponsive(),t.gpt.slot=googletag.defineSlot(t.gpt.unitName,[],t.gpt.id).defineSizeMapping(t.gpt.sizes)):t.gpt.slot=googletag.defineSlot(t.gpt.unitName,t.sizes,t.gpt.id)}),this},clearSlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.pubads().clear([t]))},initResponsive:function(){var t=this;return window.googletag.cmd.push(function(){r.on("breakpoint",function(e){var n=e.detail.slot,i=e.detail.screensize;g({res:i}),n.hasValidSize(i)&&!n.responsiveCreative&&(n.gpt.iframe?n.fire("refresh"):!t.defer&&n.display())},t.container);var e=googletag.sizeMapping();(0,i.default)(a).forEach(function(n){t.sizes[n]&&e.addSize(a[n],t.sizes[n])}),t.gpt.sizes=e.build()}),this},destroySlot:function(t){return!(!window.googletag.pubadsReady||!window.googletag.pubads)&&(t=t||this.gpt.slot,googletag.destroySlots([t]))},display:function(){var t=this;return window.googletag.cmd.push(function(){r.broadcast("gptDisplay"),googletag.display(t.gpt.id)}),this},setUnitName:function(){var t=this;return window.googletag.cmd.push(function(){var e,n=o("gpt")||{},i=t.container.getAttribute("data-o-ads-gpt-unit-name");if(r.isNonEmptyString(i))e=i;else if(r.isNonEmptyString(n.unitName))e=n.unitName;else{var s=n.network,a=n.site,u=n.zone;e="/"+s,e+=r.isNonEmptyString(a)?"/"+a:"",e+=r.isNonEmptyString(u)?"/"+u:""}t.gpt.unitName=e}),this},addServices:function(t){var e=this;return window.googletag.cmd.push(function(){var n=o("gpt")||{};(t=t||e.gpt.slot).addService(googletag.pubads()),n.companions&&!1!==e.companion&&t.addService(googletag.companionAds())}),this},setCollapseEmpty:function(){var t=this;return window.googletag.cmd.push(function(){var e=t.collapseEmpty||o("collapseEmpty");!0===e||"after"===e?t.gpt.slot.setCollapseEmptyDiv(!0):"before"===e?t.gpt.slot.setCollapseEmptyDiv(!0,!0):(!1===e||"never"===e)&&t.gpt.slot.setCollapseEmptyDiv(!1)}),this},submitGptImpression:function(){if(this.outOfPage&&this.gpt.iframe){var t=function(t){var e=t.contentWindow.document.querySelector("[data-o-ads-impression-url]");return e?e.dataset.oAdsImpressionUrl:(r.log.warn("Impression URL not found, this is set via a creative template."),!1)}(this.gpt.iframe);t&&r.attach(t,!0,function(){r.log.info("Impression Url requested")},function(){r.log.info("CORS request to submit an impression failed")},!0)}else r.log.warn("Attempting to call submitImpression on a non-oop slot")},setURL:function(t){var e=this;return window.googletag.cmd.push(function(){t=t||e.gpt.slot;var n=o("canonical");t.set("page_url",n||r.getLocation())}),this},setTargeting:function(t){var e=this;return window.googletag.cmd.push(function(){t=t||e.gpt.slot,r.isPlainObject(e.targeting)&&(0,i.default)(e.targeting).forEach(function(n){t.setTargeting(n,e.targeting[n])})}),this}};function g(t){if(window.googletag){var e=r.isPlainObject(t)?t:s.get();t||googletag.cmd.push(function(){googletag.pubads().clearTargeting()}),u(e)}else r.log.warn("Attempting to set page targeting before the GPT library has initialized")}t.exports.init=function(){var t=o("gpt")||{};a=o("responsive"),window.googletag||(window.googletag={},window.googletag.cmd=[]),r.attach("//www.googletagservices.com/tag/js/gpt.js",!0,null,function(t){r.broadcast("adServerLoadError",t)}),r.on("ready",function(t,e){var n=e.detail.slot;"gpt"===n.server&&(n.gpt={},r.extend(n,t),googletag.cmd.push(function(){n.defineSlot().addServices().setCollapseEmpty().setTargeting().setURL(),!n.defer&&n.hasValidSize()&&n.display()}))}.bind(null,p)),r.on("render",c),r.on("refresh",l),r.on("resize",d),googletag.cmd.push(function(t){return googletag.pubads().addEventListener("slotRenderEnded",f),function(t){t.companions&&(googletag.pubads().disableInitialLoad(),googletag.companionAds().setRefreshUnfilledSlots(!0))}(t),function(t){var e=t.rendering;"sync"===e?googletag.pubads().enableSyncRendering():"sra"===e?googletag.pubads().enableSingleRequest():googletag.pubads().enableAsyncRendering()}(t),u(s.get()),function(t){var e=t.collapseEmpty;"before"===e||!0===e?googletag.pubads().collapseEmptyDivs(!0,!0):"never"===e||!1===e?googletag.pubads().collapseEmptyDivs(!1):googletag.pubads().collapseEmptyDivs(!0)}(t),googletag.enableServices(),googletag.pubads().setTargeting("url",window.location.href),!0}.bind(null,t))},t.exports.updateCorrelator=function(){googletag.cmd.push(function(){googletag.pubads().updateCorrelator()})},t.exports.updatePageTargeting=g,t.exports.clearPageTargetingForKey=function(t){return window.googletag?t?void googletag.cmd.push(function(){googletag.pubads().clearTargeting(t)}):void r.log.warn("Refusing to unset all keys - a key must be specified"):void r.log.warn("Attempting to clear page targeting before the GPT library has initialized")},t.exports.debug=function(){var t=r.log,e=o("gpt");e&&(t.start("gpt"),t.attributeTable(e),t.end())}},1467:function(t,e,n){"use strict";var i=r(n(44)),o=r(n(15));function r(t){return t&&t.__esModule?t:{default:t}}var s=n(1457),a=n(1458),u=n(244),c=n(1459);function l(){this.customAttributes={}}l.prototype.add=function(t){s.extend(!0,this.customAttributes,t)},l.prototype.sendNewPixel=function(t){var e=window.Krux&&window.Krux("require:pixel");e&&e.send&&(t?e.send():e.send("",!1))},l.prototype.init=function(){var t=this;if(this.config=a("krux"),this.config&&this.config.id){window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),this.api=window.Krux,this.config.attributes&&this.add(this.config.attributes),this.setAllAttributes();var e,n=s.getLocation().match(/\bkxsrc=([^&]+)/);n&&(e=decodeURIComponent(n[1]));var i=/^https?:\/\/([^\/]+\.)?krxd\.net(:\d{1,5})?\//i.test(e)?e:"disable"===e?"":"//cdn.krxd.net/controltag/"+this.config.id+".js",o=function(){t.kruxScript=s.attach(i,!0,function(){s.broadcast("kruxScriptLoaded")}),t.events.init()};setTimeout(function(){"requestIdleCallback"in window?requestIdleCallback(o):o()},1e3),c.add(this.targeting())}},l.prototype.retrieve=function(t){var e;return t="kx"+t,window.localStorage&&localStorage.getItem(t)?e=localStorage.getItem(t):s.cookie(t)&&(e=s.cookie(t)),e},l.prototype.segments=function(){return this.retrieve("segs")},l.prototype.targeting=function(){var t=this.segments();return t&&(t=t.split(","),a("krux").limit&&(t=t.slice(0,a("krux").limit))),{kuid:this.retrieve("user"),kxid:this.retrieve("kuid"),ksg:t,khost:encodeURIComponent(location.hostname),bht:t&&0<t.length?"true":"false"}},l.prototype.events={delegated:function(t){if(window.addEventListener&&t){var e=this.fire,n=function(n){return function(){e(t[n].id)}};window.addEventListener("load",function(){var e=new u(document.body);for(var i in t)t.hasOwnProperty(i)&&e.on(t[i].eType,t[i].selector,n(i))},!1)}}},l.prototype.events.fire=function(t,e){return!!t&&(e=s.isPlainObject(e)?e:{},window.Krux("admEvent",t,e))},l.prototype.events.init=function(){var t,e=a("krux")&&a("krux").events;if(s.isPlainObject(e))for(t in e)s.isFunction(this[t])?this[t](e[t]):s.isFunction(e[t].fn)&&e[t].fn(e[t])},l.prototype.setAttributes=function(t,e){e&&(0,o.default)(e).forEach(function(n){window.Krux("set",t+n,e[n])})},l.prototype.setAllAttributes=function(){this.customAttributes&&(this.setAttributes("page_attr_",this.customAttributes.page||{}),this.setAttributes("user_attr_",this.customAttributes.user||{}),this.setAttributes("",this.customAttributes.custom||{}))},l.prototype.resetAttributes=function(){var t=this;["user","page","custom"].forEach(function(e){t.customAttributes[e]&&(0,o.default)(t.customAttributes[e]).forEach(function(t){window.Krux("set","custom"===e?t:e+"_attr_"+t,null)})}),this.customAttributes={}},l.prototype.resetSpecificAttribute=function(t){this.customAttributes[t]&&((0,o.default)(this.customAttributes[t]).forEach(function(e){window.Krux("set","custom"===t?e:t+"_attr_"+e,null)}),delete this.customAttributes[t])},l.prototype.debug=function(){var t=s.log;if(this.config){t.start("Krux©"),t("%c id:","font-weight: bold",this.config.id),this.config.limit&&t("%c segment limit:","font-weight: bold",this.config.limit);var e=s.extend(!0,this.config.attributes,this.customAttributes);if(0<(0,o.default)(e).length&&(t.start("Attributes"),(0,o.default)(e).forEach(function(n){t.start(""+n),t.attributeTable(e[n]),t.end()}),t.end()),this.config.events){var n=this.config.events;t.start("Events"),t.start("Delegated"),t.table(n.delegated),t.end(),t.end()}var r=this.targeting();t.start("Targeting"),t.attributeTable(r),t.end();var a=(0,i.default)(document.querySelectorAll(".kxinvisible"));a.length&&(t.start(a.length+" Supertag© scripts"),a.forEach(function(e){t(e.dataset.alias,e.querySelector("script"))}),t.end()),t.end()}},t.exports=new l},1468:function(t,e,n){"use strict";var i=function(t){return t&&t.__esModule?t:{default:t}}(n(84));function o(){this.data=[],this.config={}}o.prototype.getUserData=function(t){return t?fetch(t,{timeout:2e3,useCorsProxy:!0,credentials:"include"}).then(function(t){return t.json()}).catch(function(){return i.default.resolve({})}):i.default.resolve({})},o.prototype.getPageData=function(t,e){return t?(e=e||2e3,fetch(t,{timeout:e,useCorsProxy:!0}).then(function(t){return t.json()}).catch(function(){return i.default.resolve({})})):i.default.resolve({})},o.prototype.handleResponse=function(t){this.data=t;for(var e=0;e<t.length;e++){var n=t[e],i={};if(n.krux&&n.krux.attributes&&(i[["user","page"][e]]=this.instance.utils.buildObjectFromArray(n.krux.attributes),this.instance.krux.add(i)),n.dfp&&n.dfp.targeting&&this.instance.targeting.add(this.instance.utils.buildObjectFromArray(n.dfp.targeting)),this.config.usePageZone&&n.dfp&&n.dfp.adUnit){var o=this.instance.config("gpt");o&&o.zone&&(o.zone=n.dfp.adUnit.join("/"))}}return t},o.prototype.init=function(t,e){return this.config=t,this.instance=e,t?i.default.all([this.getUserData(t.user),this.getPageData(t.page)]).then(this.handleResponse.bind(this)):i.default.resolve()},o.prototype.reset=function(){var t=this;this.instance.krux.resetAttributes(),this.data.forEach(function(e){e.dfp&&e.dfp.targeting&&e.dfp.targeting.forEach(function(e){t.instance.targeting.remove(e.key),t.instance.gpt.clearPageTargetingForKey(e.key)})})},t.exports=new o}}]);
//# sourceMappingURL=2.2951927c552d540284c6.bundle.js.map