import { Meta, Story, Canvas } from '@storybook/blocks';
import * as IndexStories from './index.stories';

export const basicMpSearchList = [
  { value: 'jeremycorbyn', display: 'Jeremy Corbyn' },
  { value: 'borisjohnson', display: 'Boris Johnson' },
  { value: 'joswinson', display: 'Jo Swinson' },
];

export const validateInputFunction = (input) => {
  if (input === '') {
    return { isError: true, errorMessage: 'ERROR!!!' };
  }
  return { isError: false, errorMessage: '' };
};

<Meta of={IndexStories} />

# Autosuggest Search component

`<AutosuggestSearch />` can be used to create a text input which automatically
suggests search queries based on a given list. It takes an array of objects
`searchList` which are filtered using the (or default) `getSuggestions`
function. The component takes these functions as (optional) props:

- `getSuggestions(value, searchList)` which should return a filtered searchList
- `getSuggestionValue(suggestionObject)` which should return the value to display
  in the search input after a suggestion has been selected from the dropdown list
- `renderSuggestion(suggestionObject)` which should return how the suggestion
  should rendered in the dropdown list.
- `onSelectCallback(suggestionValue)` which takes the value returned by `getSuggestionValue`
- `onSubmitCallback(searchValue)` which takes the current input searchValue
- `validateInput(searchValue)` which takes the current input searchValue and should return
  an object with isError (boolean) and errorMessage (string) attributes

<Canvas>
  <Story of={IndexStories.Examples} />
</Canvas>
